<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Thomas Klebel" />

<meta name="date" content="2023-08-15" />

<title>Known Quirks of JSTOR/DfR Data</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Known Quirks of JSTOR/DfR Data</h1>
<h4 class="author">Thomas Klebel</h4>
<h4 class="date">2023-08-15</h4>


<div id="TOC">
<ul>
<li><a href="#collecting-all-the-quirks" id="toc-collecting-all-the-quirks">Collecting all the quirks</a></li>
<li><a href="#data-augmentation" id="toc-data-augmentation">Data
augmentation</a></li>
<li><a href="#known-quirks" id="toc-known-quirks">Known quirks</a>
<ul>
<li><a href="#page-numbers" id="toc-page-numbers">Page numbers</a>
<ul>
<li><a href="#calculating-total-pages" id="toc-calculating-total-pages">Calculating total pages</a></li>
</ul></li>
<li><a href="#journal-identifiers" id="toc-journal-identifiers">Journal
identifiers</a></li>
<li><a href="#duplicated-ngrams" id="toc-duplicated-ngrams">Duplicated
ngrams</a></li>
<li><a href="#language-codes" id="toc-language-codes">Language
codes</a></li>
<li><a href="#incorrectodd-references" id="toc-incorrectodd-references">Incorrect/odd references</a>
<ul>
<li><a href="#problems-with-non-english-characters" id="toc-problems-with-non-english-characters">Problems with non-english
characters</a></li>
<li><a href="#ocr-issues" id="toc-ocr-issues">OCR-Issues</a></li>
<li><a href="#errors-by-article-authors" id="toc-errors-by-article-authors">Errors by article authors</a></li>
</ul></li>
</ul></li>
</ul>
</div>

<div id="collecting-all-the-quirks" class="section level1">
<h1>Collecting all the quirks</h1>
<p>Data from JSTOR/DfR is unlike most other data you encounter when
doing text analysis. First and foremost, the data about articles and
books come from a wide variety of journals and publishers. The level of
detail and certain formats vary because of this. <code>jstor</code>
tries to deal with this situation with two strategies:</p>
<ul>
<li>try to recognise the format and read data accordingly</li>
<li>if this is not possible, read data as “raw” as possible,
i.e. without any conversions</li>
</ul>
<p>An example for the first case are references. Four different ways how
references can be specified are known at this time, and all are imported
in specific ways to deal this variation. There might however be other
formats, which should lead to an informative error when trying to import
them via <code>jst_get_references()</code>.</p>
<p>An example for the latter case are page numbers. Most of the time,
the entries for page numbers are simply <code>42</code>, or
<code>61</code>. This is as expected, and could be parsed as integers.
Sometimes, there are characters present, like <code>M77</code>. This
would pose no problem either, we could simply extract all digits via
regex and parse as character. Unfortunately, sometimes the page is
specified like this: <code>v75i2p84</code>. Extracting all digits would
result in <code>75284</code>, which is wrong by a long shot. Since there
might be other ways of specifying pages, <code>jstor</code> does not
attempt to parse the pages to integers when importing. However, it
offers a set of convenience functions which deal with a few common cases
(see <code>jst_augment()</code> and below).</p>
<p>There are many other problems or peculiarities like this. This
vignette tries to list as many as possible, and offer solutions for
dealing with them. Unfortunately I have neither the time nor the
interest to wade through all the data which you could get from DfR in
order to find all possible quirks. The following list is thus inevitably
incomplete. If you encounter new quirks/peculiarities, it would be
greatly appreciated if you sent me an email, or <a href="https://github.com/ropensci/jstor/issues">opened an issue at
GitHub</a>. I will then include your findings in future version of this
vignette, so this vignette can be a starting point for everybody who
conducts text analysis with data from JSTOR/DfR.</p>
</div>
<div id="data-augmentation" class="section level1">
<h1>Data augmentation</h1>
<p>After importing data via <code>jst_get_article()</code>, there are at
least two tasks you might typically want to undertake:</p>
<ul>
<li>Merge different identifiers for journals into one, so you can filter
journals.</li>
<li>Convert pages from character into integers and calculate the total
number of pages per article.</li>
</ul>
<p>There are four functions which help you to streamline this
process:</p>
<ul>
<li><code>jst_clean_page()</code> attempts to turn a character vector
with pages into an integer vector.</li>
<li><code>jst_add_total_pages()</code> adds a column with the total
number of pages per article.</li>
<li><code>jst_unify_journal_id()</code> merges different identifiers for
journals into one.</li>
<li><code>jst_augment()</code> wraps the above functions for
convenience.</li>
</ul>
</div>
<div id="known-quirks" class="section level1">
<h1>Known quirks</h1>
<p>In the following sections, known issues with data from DfR are
described in greater detail.</p>
<div id="page-numbers" class="section level2">
<h2>Page numbers</h2>
<p>Page numbers are a mess. Besides the issues mentioned above, page
numbers might sometimes be specified as “pp. 1234-83” as in <a href="https://www.jstor.org/stable/10.1086/659100">this article from the
American Journal of Sociology</a>. Of course, this results in
<code>first_page = 1234</code> and <code>last_page = 83</code>, and the
computed number of total pages from <code>jst_get_total_pages()</code>
will be negative. There is currently no general solution for this
issue.</p>
<div id="calculating-total-pages" class="section level3">
<h3>Calculating total pages</h3>
<p>As outlined above, page numbers come in very different forms. Besides
this problem, there is actually another issue. Imagine you would like to
quantify the lengths of articles. Obviously you will need information on
the first and the last page of the articles. Furthermore, the pages need
to be parsed properly: you will run into troubles if you calculate page
numbers like <code>75284 - 42 + 1</code>, in case the number was parsed
badly. <code>jst_clean_page()</code> tries to do this properly, based on
a few known possibilities:</p>
<ul>
<li>“2” -&gt; 2</li>
<li>“A2” -&gt; 2</li>
<li>“v75i2p84” -&gt; 84</li>
</ul>
<p>Parsing correctly is unfortunately not enough. Things like “Errata”
might come to haunt you. For example there might be an article with
<code>first_page = 42</code> and <code>last_page = 362</code>, which
would leave you puzzled as to if this can be true<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>. There could be a
simple explanation: the article might start on page 42, and end on page
65, and there is furthermore an erratum on page 362. Technically,
<code>last_page = 362</code> is true then, but it will cause problems
for calculating the total number of pages. Quite often, there is
information in another column which could resolve this:
<code>page_range</code>, which in this case would look like
<code>42 - 65, 362</code>.</p>
<p>A small helper to deal with those situations is
<code>jst_get_total_pages()</code>. It works for page ranges, but also
for first and last pages:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(jstor)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>input <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tribble</span>(</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>  <span class="sc">~</span>first_page,   <span class="sc">~</span>last_page,    <span class="sc">~</span>page_range,</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>  <span class="cn">NA_real_</span>,      <span class="cn">NA_real_</span>,      <span class="cn">NA_character_</span>, </span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>  <span class="dv">1</span>,             <span class="dv">10</span>,            <span class="st">&quot;1 - 10&quot;</span>,</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>  <span class="dv">1</span>,             <span class="dv">10</span>,            <span class="cn">NA_character_</span>,</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>  <span class="dv">1</span>,             <span class="cn">NA_real_</span>,      <span class="cn">NA_character_</span>, </span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a>  <span class="dv">1</span>,             <span class="cn">NA_real_</span>,      <span class="st">&quot;1-10&quot;</span>,</span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>  <span class="cn">NA_real_</span>,       <span class="cn">NA_real_</span>,      <span class="st">&quot;1, 5-10&quot;</span>,</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a>  <span class="cn">NA_real_</span>,       <span class="cn">NA_real_</span>,      <span class="st">&quot;1-4, 5-10&quot;</span>,</span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a>  <span class="cn">NA_real_</span>,       <span class="cn">NA_real_</span>,      <span class="st">&quot;1-4, C5-C10&quot;</span></span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a>)</span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a>input <span class="sc">%&gt;%</span> </span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n_pages =</span> <span class="fu">jst_get_total_pages</span>(first_page, last_page, page_range))</span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a><span class="co">#&gt; # A tibble: 8 × 4</span></span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a><span class="co">#&gt;   first_page last_page page_range  n_pages</span></span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a><span class="co">#&gt;        &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;         &lt;dbl&gt;</span></span>
<span id="cb1-21"><a href="#cb1-21" tabindex="-1"></a><span class="co">#&gt; 1         NA        NA &lt;NA&gt;             NA</span></span>
<span id="cb1-22"><a href="#cb1-22" tabindex="-1"></a><span class="co">#&gt; 2          1        10 1 - 10           10</span></span>
<span id="cb1-23"><a href="#cb1-23" tabindex="-1"></a><span class="co">#&gt; 3          1        10 &lt;NA&gt;             10</span></span>
<span id="cb1-24"><a href="#cb1-24" tabindex="-1"></a><span class="co">#&gt; 4          1        NA &lt;NA&gt;             NA</span></span>
<span id="cb1-25"><a href="#cb1-25" tabindex="-1"></a><span class="co">#&gt; 5          1        NA 1-10             10</span></span>
<span id="cb1-26"><a href="#cb1-26" tabindex="-1"></a><span class="co">#&gt; 6         NA        NA 1, 5-10           7</span></span>
<span id="cb1-27"><a href="#cb1-27" tabindex="-1"></a><span class="co">#&gt; 7         NA        NA 1-4, 5-10        10</span></span>
<span id="cb1-28"><a href="#cb1-28" tabindex="-1"></a><span class="co">#&gt; 8         NA        NA 1-4, C5-C10      10</span></span></code></pre></div>
<p>This is actually identical to using
<code>jst_add_total_pages()</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>input <span class="sc">%&gt;%</span> </span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>  <span class="fu">jst_add_total_pages</span>()</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="co">#&gt; # A tibble: 8 × 4</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="co">#&gt;   first_page last_page page_range  n_pages</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="co">#&gt;        &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;         &lt;dbl&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="co">#&gt; 1         NA        NA &lt;NA&gt;             NA</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="co">#&gt; 2          1        10 1 - 10           10</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="co">#&gt; 3          1        10 &lt;NA&gt;             10</span></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="co">#&gt; 4          1        NA &lt;NA&gt;             NA</span></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="co">#&gt; 5          1        NA 1-10             10</span></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="co">#&gt; 6         NA        NA 1, 5-10           7</span></span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a><span class="co">#&gt; 7         NA        NA 1-4, 5-10        10</span></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="co">#&gt; 8         NA        NA 1-4, C5-C10      10</span></span></code></pre></div>
</div>
</div>
<div id="journal-identifiers" class="section level2">
<h2>Journal identifiers</h2>
<p>Identifiers for the journal usually appear in three columns:</p>
<ul>
<li><code>journal_doi</code></li>
<li><code>journal_jcode</code></li>
<li><code>journal_pub_id</code></li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>sample_article <span class="ot">&lt;-</span> <span class="fu">jst_get_article</span>(<span class="fu">jst_example</span>(<span class="st">&quot;article_with_references.xml&quot;</span>)) </span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(sample_article)</span></code></pre></div>
<table>
<colgroup>
<col width="8%" />
<col width="4%" />
<col width="5%" />
<col width="5%" />
<col width="17%" />
<col width="5%" />
<col width="5%" />
<col width="4%" />
<col width="5%" />
<col width="11%" />
<col width="2%" />
<col width="2%" />
<col width="3%" />
<col width="2%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">file_name</th>
<th align="left">journal_doi</th>
<th align="left">journal_jcode</th>
<th align="left">journal_pub_id</th>
<th align="left">journal_title</th>
<th align="left">article_doi</th>
<th align="left">article_pub_id</th>
<th align="left">article_jcode</th>
<th align="left">article_type</th>
<th align="left">article_title</th>
<th align="left">volume</th>
<th align="left">issue</th>
<th align="left">language</th>
<th align="left">pub_day</th>
<th align="left">pub_month</th>
<th align="right">pub_year</th>
<th align="left">first_page</th>
<th align="left">last_page</th>
<th align="left">page_range</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">article_with_references</td>
<td align="left">NA</td>
<td align="left">tranamermicrsoci</td>
<td align="left">NA</td>
<td align="left">Transactions of the American Microscopical Society</td>
<td align="left">10.2307/3221896</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">research-article</td>
<td align="left">On the Protozoa Parasitic in Frogs</td>
<td align="left">41</td>
<td align="left">2</td>
<td align="left">eng</td>
<td align="left">1</td>
<td align="left">4</td>
<td align="right">1922</td>
<td align="left">59</td>
<td align="left">76</td>
<td align="left">59-76</td>
</tr>
</tbody>
</table>
<p>From my samples, it seems that the information in
<code>journal_pub_id</code> is often missing, as is journal_doi. The
most important identifier is thus <code>journal_jcode</code>. In cases
where both <code>journal_jcode</code> and <code>journal_pub_id</code>
are present, at least in my samples, the format of
<code>journal_jcode</code> was different. For consistency,
<code>jst_unify_journal_id()</code> thus takes content of
<code>journal_pub_id</code> if it is present, and that of
<code>journal_jcode</code> otherwise.</p>
<p>With this algorithm, it should be possible to reliably match them to
general information about the respective journals, which are available
from <code>jst_get_journal_overview()</code>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>sample_article <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>  <span class="fu">jst_unify_journal_id</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>  <span class="fu">left_join</span>(<span class="fu">jst_get_journal_overview</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">gather</span>(variable, value) <span class="sc">%&gt;%</span> </span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="co">#&gt; Joining, by = &quot;journal_id&quot;</span></span></code></pre></div>
<table>
<colgroup>
<col width="12%" />
<col width="87%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">variable</th>
<th align="left">value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">file_name</td>
<td align="left">article_with_references</td>
</tr>
<tr class="even">
<td align="left">journal_title</td>
<td align="left">Transactions of the American Microscopical Society</td>
</tr>
<tr class="odd">
<td align="left">article_doi</td>
<td align="left">10.2307/3221896</td>
</tr>
<tr class="even">
<td align="left">article_pub_id</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">article_jcode</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">article_type</td>
<td align="left">research-article</td>
</tr>
<tr class="odd">
<td align="left">article_title</td>
<td align="left">On the Protozoa Parasitic in Frogs</td>
</tr>
<tr class="even">
<td align="left">volume</td>
<td align="left">41</td>
</tr>
<tr class="odd">
<td align="left">issue</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">language</td>
<td align="left">eng</td>
</tr>
<tr class="odd">
<td align="left">pub_day</td>
<td align="left">1</td>
</tr>
<tr class="even">
<td align="left">pub_month</td>
<td align="left">4</td>
</tr>
<tr class="odd">
<td align="left">pub_year</td>
<td align="left">1922</td>
</tr>
<tr class="even">
<td align="left">first_page</td>
<td align="left">59</td>
</tr>
<tr class="odd">
<td align="left">last_page</td>
<td align="left">76</td>
</tr>
<tr class="even">
<td align="left">page_range</td>
<td align="left">59-76</td>
</tr>
<tr class="odd">
<td align="left">journal_id</td>
<td align="left">tranamermicrsoci</td>
</tr>
<tr class="even">
<td align="left">title</td>
<td align="left">Transactions of the American Microscopical Society</td>
</tr>
<tr class="odd">
<td align="left">issn</td>
<td align="left">00030023</td>
</tr>
<tr class="even">
<td align="left">eissn</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">doi</td>
<td align="left">10.2307/j100072</td>
</tr>
<tr class="even">
<td align="left">url</td>
<td align="left"><a href="https://www.jstor.org/journal/tranamermicrsoci" class="uri">https://www.jstor.org/journal/tranamermicrsoci</a></td>
</tr>
<tr class="odd">
<td align="left">discipline</td>
<td align="left">Biological Sciences ; Science &amp; Mathematics ;
Zoology</td>
</tr>
<tr class="even">
<td align="left">publisher</td>
<td align="left">American Microscopical Society ; Wiley</td>
</tr>
<tr class="odd">
<td align="left">coverage_range</td>
<td align="left">1878-1994</td>
</tr>
<tr class="even">
<td align="left">oclc_catalog_identifier</td>
<td align="left">61241470</td>
</tr>
<tr class="odd">
<td align="left">lccn_catalog_identifier</td>
<td align="left">2005 237209</td>
</tr>
<tr class="even">
<td align="left">archive_release_date</td>
<td align="left">2005-08-10</td>
</tr>
<tr class="odd">
<td align="left">collections</td>
<td align="left">Biological Sciences Collection ; Corporate &amp;
For-Profit Access Initiative Collection ; JSTOR Archival Journal &amp;
Primary Source Collection ; Life Sciences Collection</td>
</tr>
</tbody>
</table>
</div>
<div id="duplicated-ngrams" class="section level2">
<h2>Duplicated ngrams</h2>
<table>
<colgroup>
<col width="48%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Source</th>
<th align="right">time span</th>
<th align="right">Part</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">American Journal of Sociology</td>
<td align="right">Unknown</td>
<td align="right">Book Reviews</td>
</tr>
</tbody>
</table>
<p>For the AJS, ngrams for book reviews are calculated per issue. There
are numerous reviews per issue, and each of them has an identical file
of ngrams, containing ngrams for all book reviews of this issue.</p>
<p>A possible strategy for dealing with this is either not to use those
ngrams, since they are calculated on all reviews in the issue,
irrespective of whether actually all reviews of the given issue are in
the sample or not. Alternatively, one could group by issues, and only
take one set of ngrams per issue.</p>
</div>
<div id="language-codes" class="section level2">
<h2>Language codes</h2>
<p>Information on langues is not consistent. For the sample article,
<code>language</code> is <code>eng</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>sample_article <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>  <span class="fu">pull</span>(language)</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="co">#&gt; [1] &quot;eng&quot;</span></span></code></pre></div>
<p>In other cases it might be <code>en</code>. It is thus advisable to
take a quick look at different variants via
<code>distinct(meta_data, language)</code> or
<code>count(meta_data, language)</code>.</p>
</div>
<div id="incorrectodd-references" class="section level2">
<h2>Incorrect/odd references</h2>
<p>When analysing data about references and footnotes, you will
encounter many inconsistencies and errors. Most of them are not due to
errors from DfR, but stem simply from the fact, that humans make
mistakes when creating manuscripts, and not all errors with references
are caught before printing.</p>
<div id="problems-with-non-english-characters" class="section level3">
<h3>Problems with non-english characters</h3>
<p>A common problem are names with non-english characters like german
umlauts (Ferdinand Tönnies) or nordic names (Gøsta Esping-Andersen).
These will appear in many different variations: Tonnies, Tönnies, Gosta,
Gösta, etc.</p>
</div>
<div id="ocr-issues" class="section level3">
<h3>OCR-Issues</h3>
<p>For older articles, you might encounter issues that stem from
digitising text with OCR-software. A common problem is distinguishing
<code>I</code> from <code>l</code>, like in the phrase “In love”.
Depending on which names appear in your data, this might lead to
inconsistencies.</p>
</div>
<div id="errors-by-article-authors" class="section level3">
<h3>Errors by article authors</h3>
<p>There are many examples where authors make mistakes and your summary
statistics end up being skewed. <a href="https://www.jstor.org/stable/25074331?seq=11&amp;refreqid=excelsior%3A6f9520d8aecff945ab2033fa66d3438e#page_scan_tab_contents">This
article</a> about “Ethics Education in the Workplace” cites the same
items multiple times, which is possibly an artifact. The advantage of
using JSTOR/DfR data is, that you can inspect all sources and check, if
a specific pattern you see is an artifact or genuine.</p>
</div>
</div>
</div>
<div class="footnotes footnotes-end-of-document">
<hr />
<ol>
<li id="fn1"><p>Although it sounds absurd, this can actually be true.
There are some articles which are 200 pages long. Obviously, they are
not standard research articles. You will need to decide if they fall
into your sample or not.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
