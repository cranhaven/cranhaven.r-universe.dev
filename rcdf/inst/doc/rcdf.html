<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Working with RCDF Files in R</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Working with RCDF Files in R</h1>



<p>This vignette will walk you through the key features of the package,
including how to encrypt and save your data in RCDF format, how to
decrypt and read RCDF files, and how to export data to other common
formats.</p>
<div id="writing-data-to-rcdf-format" class="section level2">
<h2>Writing data to RCDF format</h2>
<p>The core function for writing data to the RCDF format is
<code>write_rcdf()</code>. This function encrypts your data using AES
encryption, generates encrypted metadata for version control using RSA
encryption, and saves the data as encrypted Parquet files inside a zip
archive. This ensures that the data is stored securely and can only be
decrypted using the correct key.</p>
<p><br> <strong>Usage</strong>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">write_rcdf</span>(</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>  data,</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>  path,</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>  pub_key,</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>  ...,</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>  <span class="at">metadata =</span> <span class="fu">list</span>(),</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>  <span class="at">ignore_duplicates =</span> <span class="cn">TRUE</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>)</span></code></pre></div>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>data</code>: A list of data frames or tables to be written to
RCDF format. Each element of the list represents a record.</li>
<li><code>path</code>: The path where the RCDF file will be written. The
file will be saved with a <code>.rcdf</code> extension if not already
specified.</li>
<li><code>pub_key</code>: The public RSA key used to encrypt the AES
encryption keys.</li>
<li><code>...</code>: Additional arguments passed to helper functions if
needed.</li>
<li><code>metadata</code>: A list of metadata to be included in the RCDF
file. Can contain system information or other relevant details.</li>
<li><code>ignore_duplicates</code>: A logical flag. If
<code>TRUE</code>, a warning is issued when duplicates are found. If
<code>FALSE</code>, the function stops with an error.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">library</span>(rcdf)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="co"># Sample data (list of data frames)</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">rcdf_list</span>()</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>data<span class="sc">$</span>table1 <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">y =</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>])</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>data<span class="sc">$</span>table2 <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">a =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>), <span class="at">b =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>))</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="co"># You can generate a new RSA key pair using the following function:</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>key <span class="ot">&lt;-</span> <span class="fu">generate_rsa_keys</span>(</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>  <span class="at">path =</span> <span class="st">&quot;path/to/rsa-keys&quot;</span>, </span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a>  <span class="at">password =</span> <span class="st">&quot;1234&quot;</span> <span class="co"># this is optional</span></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a>)</span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="co"># Write the data to an RCDF file</span></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a><span class="fu">write_rcdf</span>(<span class="at">data =</span> data, <span class="at">path =</span> <span class="st">&quot;path/to/rcdf_file.rcdf&quot;</span>, <span class="at">pub_key =</span> key)</span></code></pre></div>
<p>In this example:</p>
<ul>
<li><code>data</code> is a list containing two data frames. These will
be encrypted and saved as separate Parquet files within the RCDF.</li>
<li><code>pub_key</code> is the RSA public key used to encrypt the AES
keys. The AES keys are used for encrypting the data in a fast and secure
manner.</li>
</ul>
<p>The <code>write_rcdf()</code> function will create a zip archive
containing the encrypted Parquet files and metadata, then save it to
path.</p>
</div>
<div id="reading-and-decrypting-rcdf-data" class="section level2">
<h2>Reading and decrypting RCDF data</h2>
<p>To read and decrypt an RCDF file, you can use the
<code>read_rcdf()</code> function. This function extracts the encrypted
Parquet files from the RCDF archive, decrypts them using the provided
decryption key, and loads the data back into R as an RCDF object.</p>
<p><br> <strong>Usage</strong>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">read_rcdf</span>(</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>  path, </span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>  decryption_key, </span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>  ..., </span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>  <span class="at">password =</span> <span class="cn">NULL</span>,</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>  <span class="at">metadata =</span> <span class="fu">list</span>(),</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>  <span class="at">ignore_duplicates =</span> <span class="cn">TRUE</span>,</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>  <span class="at">recursive =</span> <span class="cn">FALSE</span>,</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>  <span class="at">return_meta =</span> <span class="cn">FALSE</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>)</span></code></pre></div>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>path</code>: A string specifying the path to the RCDF archive
(zip file). If a directory is provided, all <code>.rcdf</code> files
within that directory will be processed.</li>
<li><code>decryption_key</code>: The key used to decrypt the RCDF
contents. This can be an RSA or AES key, depending on how the RCDF was
encrypted.</li>
<li><code>...</code>: Additional parameters passed to other functions,
if needed.</li>
<li><code>password</code>: A password used for RSA decryption
(optional).</li>
<li><code>metadata</code>: An optional metadata object containing data
dictionaries and value sets. This metadata is applied to the data if
provided. If <code>NULL</code>, the metadata from the RCDF file (added
during write), if available, is used.</li>
<li><code>ignore_duplicates</code>: A logical flag. If
<code>TRUE</code>, a warning is issued when duplicates are found, based
on the primary key/s defined during creation of RCDF file. If
<code>FALSE</code>, the function stops with an error.</li>
<li><code>recursive</code>: A logical flag. If <code>TRUE</code>, the
function will recursively look for RCDF files in subdirectories of the
specified path.</li>
<li><code>return_meta</code>: Logical. If <code>TRUE</code>, the
metadata will be returned as an attribute of the RCDF object.</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># Using sample RCDF data</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>dir <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">&quot;extdata&quot;</span>, <span class="at">package =</span> <span class="st">&quot;rcdf&quot;</span>)</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="co"># mtcars.rcdf is a sample RCDF file included in the package for demonstration purposes only.  </span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>rcdf_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(dir, <span class="st">&#39;mtcars.rcdf&#39;</span>)</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="co"># This is also a sample key built into the package.</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>private_key <span class="ot">&lt;-</span> <span class="fu">file.path</span>(dir, <span class="st">&#39;sample-private-key.pem&#39;</span>)</span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a>rcdf_data <span class="ot">&lt;-</span> <span class="fu">read_rcdf</span>(<span class="at">path =</span> rcdf_path, <span class="at">decryption_key =</span> private_key)</span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a>rcdf_data</span></code></pre></div>
<p>In this example:</p>
<ul>
<li><code>path</code> is the path to the RCDF file that contains the
encrypted data.</li>
<li><code>decryption_key</code> is the key used to decrypt the AES keys
and Parquet files. If the RCDF was encrypted using RSA, you’ll need the
private RSA key to decrypt it.</li>
</ul>
<p>The <code>read_rcdf()</code> function returns an RCDF object, which
is essentially a list of decrypted Parquet files (one for each data
frame in the original data) along with metadata about the file.</p>
<p>When creating an RSA key pair, you can choose to protect the private
key with a password. If your RCDF file was encrypted using RSA and the
private key is password-protected, you will need to provide the password
when reading the RCDF file.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># Using encrypted/password protected private key</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>rcdf_path_pw <span class="ot">&lt;-</span> <span class="fu">file.path</span>(dir, <span class="st">&#39;mtcars-pw.rcdf&#39;</span>)</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>private_key_pw <span class="ot">&lt;-</span> <span class="fu">file.path</span>(dir, <span class="st">&#39;sample-private-key-pw.pem&#39;</span>)</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>pw <span class="ot">&lt;-</span> <span class="st">&#39;1234&#39;</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>rcdf_data_with_pw <span class="ot">&lt;-</span> <span class="fu">read_rcdf</span>(</span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>  <span class="at">path =</span> rcdf_path_pw,</span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>  <span class="at">decryption_key =</span> private_key_pw,</span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a>  <span class="at">password =</span> pw</span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a>)</span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a>rcdf_data_with_pw</span></code></pre></div>
</div>
<div id="exporting-data-to-other-formats" class="section level2">
<h2>Exporting data to other formats</h2>
<p>Once the data has been decrypted and read into R, you can export it
to other formats using the <code>write_rcdf_as()</code> or
<code>write_rcdf_*()</code> family of functions. These functions support
a wide variety of common formats, including CSV, TSV, JSON, Excel,
Stata, SPSS, and SQLite.</p>
<div id="exporting-data-to-csv-format" class="section level3">
<h3>Exporting data to CSV format</h3>
<p>The <code>write_rcdf_csv()</code> function allows you to export data
stored in an RCDF object to CSV files. This is useful when you need to
share or process the data in a non-encrypted, readable format.</p>
<p><br> <strong>Usage</strong>:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">write_rcdf_csv</span>(data, path, ..., <span class="at">parent_dir =</span> <span class="cn">NULL</span>)</span></code></pre></div>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>data</code>: The RCDF object that contains the decrypted data.
This is the data you obtained from calling <code>read_rcdf()</code> or
other decryption methods.</li>
<li><code>path</code>: The target directory or file where the CSV files
will be saved.</li>
<li><code>...</code>: Additional arguments passed to the
<code>write.csv()</code> function for customizing the CSV export (e.g.,
setting delimiters, row names, etc.).</li>
<li><code>parent_dir</code>: An optional parent directory to be included
in the path where the files will be written.</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">write_rcdf_csv</span>(<span class="at">data =</span> rcdf_data, <span class="at">path =</span> <span class="st">&quot;path/to/output&quot;</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p>This will save each table in the RCDF object as a separate CSV file
in the specified directory.</p>
</div>
<div id="exporting-data-to-tsv-format" class="section level3">
<h3>Exporting data to TSV format</h3>
<p>The <code>write_rcdf_tsv()</code> function is similar to the CSV
export function but writes the data as tab-separated values (TSV)
files.</p>
<p><br> <strong>Usage</strong>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">write_rcdf_tsv</span>(data, path, ..., <span class="at">parent_dir =</span> <span class="cn">NULL</span>)</span></code></pre></div>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>data</code>: The decrypted RCDF object containing the data to
export.</li>
<li><code>path</code>: The target directory or file for the output TSV
files.</li>
<li><code>...</code>: Additional arguments for customizing the TSV
export passed to the <code>write.table()</code> function (e.g., setting
delimiters, handling row names).</li>
<li><code>parent_dir</code>: An optional parent directory to be included
in the path where the files will be written.</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">write_rcdf_tsv</span>(<span class="at">data =</span> rcdf_data, <span class="at">path =</span> <span class="st">&quot;path/to/output&quot;</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p>This function will save each data frame in the RCDF object as a
separate TSV file in the target location.</p>
</div>
<div id="exporting-data-to-json-format" class="section level3">
<h3>Exporting data to JSON format</h3>
<p>The <code>write_rcdf_json()</code> function allows you to export the
decrypted RCDF data to JSON format. This is useful when working with
APIs or other systems that require data in JSON.</p>
<p><br> <strong>Usage</strong>:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="fu">write_rcdf_json</span>(data, path, ..., <span class="at">parent_dir =</span> <span class="cn">NULL</span>)</span></code></pre></div>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>data</code>: The decrypted RCDF object.</li>
<li><code>path</code>: The target directory or file for saving the JSON
files.</li>
<li><code>...</code>: Additional arguments to customize the JSON export
passed to <code>jsonlite::toJSON()</code> (such as specifying
indentation or compactness of the JSON output).</li>
<li><code>parent_dir</code>: An optional parent directory to be included
in the path where the files will be written.</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">write_rcdf_json</span>(<span class="at">data =</span> rcdf_data, <span class="at">path =</span> <span class="st">&quot;path/to/output&quot;</span>, <span class="at">pretty =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>This will convert each data frame in the RCDF object into a separate
JSON file and save them in the specified directory. The
<code>pretty = TRUE</code> option ensures that the output JSON files are
human-readable with proper indentation.</p>
</div>
<div id="exporting-data-to-parquet-format" class="section level3">
<h3>Exporting data to Parquet format</h3>
<p>The <code>write_rcdf_parquet()</code> function exports the decrypted
data back into the Parquet format. Parquet is a columnar storage format
that is highly efficient for big data processing.</p>
<p><br> <strong>Usage</strong>:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="fu">write_rcdf_parquet</span>(data, path, ..., <span class="at">parent_dir =</span> <span class="cn">NULL</span>)</span></code></pre></div>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>data</code>: The decrypted RCDF object.</li>
<li><code>path</code>: The directory or file path where the Parquet
files will be saved.</li>
<li><code>...</code>: Additional arguments passed to the
<code>write_parquet()</code> function for customization, such as
specifying compression type.</li>
<li><code>parent_dir</code>: An optional parent directory to be included
in the path where the files will be written.</li>
</ul>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="fu">write_rcdf_parquet</span>(<span class="at">data =</span> rcdf_data, <span class="at">path =</span> <span class="st">&quot;path/to/output&quot;</span>)</span></code></pre></div>
<p>This function will write each data frame in the RCDF object into
separate Parquet files, storing them in the specified directory.</p>
</div>
<div id="exporting-data-to-excel-format" class="section level3">
<h3>Exporting data to Excel format</h3>
<p>The <code>write_rcdf_xlsx()</code> function is used to export the
decrypted RCDF data to Excel (.xlsx) format. It’s helpful when sharing
data with users who prefer spreadsheet software.</p>
<p><br> <strong>Usage</strong>:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="fu">write_rcdf_xlsx</span>(data, path, ..., <span class="at">parent_dir =</span> <span class="cn">NULL</span>)</span></code></pre></div>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>data</code>: The decrypted RCDF object.</li>
<li><code>path</code>: The directory or file path where the Excel file
will be saved.</li>
<li><code>...</code>: Additional arguments to customize the Excel file
export in the <code>openxlsx</code> package.</li>
<li><code>parent_dir</code>: An optional parent directory to be included
in the path where the files will be written.</li>
</ul>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="fu">write_rcdf_excel</span>(<span class="at">data =</span> rcdf_data, <span class="at">path =</span> <span class="st">&quot;path/to/output.xlsx&quot;</span>, <span class="at">sheetName =</span> <span class="st">&quot;Sheet1&quot;</span>)</span></code></pre></div>
</div>
<div id="exporting-data-to-stata-format" class="section level3">
<h3>Exporting data to Stata format</h3>
<p>The <code>write_rcdf_dta()</code> function allows you to export the
data to Stata’s .dta file format. This is useful for users who need to
work with the data in Stata.</p>
<p><br> <strong>Usage</strong>:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="fu">write_rcdf_dta</span>(data, path, ..., <span class="at">parent_dir =</span> <span class="cn">NULL</span>)</span></code></pre></div>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>data</code>: The decrypted RCDF object.</li>
<li><code>path</code>: The path where the Stata .dta file will be
saved.</li>
<li><code>...</code>: Additional arguments passed to the
<code>write.dta()</code> function (e.g., specifying version of
Stata).</li>
<li><code>parent_dir</code>: An optional parent directory to be included
in the path where the files will be written.</li>
</ul>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="fu">write_rcdf_dta</span>(<span class="at">data =</span> rcdf_data, <span class="at">path =</span> <span class="st">&quot;path/to/output&quot;</span>)</span></code></pre></div>
</div>
<div id="exporting-data-to-spss-format" class="section level3">
<h3>Exporting data to SPSS format</h3>
<p>The <code>write_rcdf_sav()</code> function is for exporting the
decrypted RCDF data to SPSS’s .sav file format.</p>
<p><br> <strong>Usage</strong>:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="fu">write_rcdf_sav</span>(data, path, ..., <span class="at">parent_dir =</span> <span class="cn">NULL</span>)</span></code></pre></div>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>data</code>: The decrypted RCDF object.</li>
<li><code>path</code>: The path where the .sav file will be saved.</li>
<li><code>...</code>: Additional arguments for customizing the SPSS file
export.</li>
<li><code>parent_dir</code>: An optional parent directory to be included
in the path where the files will be written.</li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="fu">write_rcdf_sav</span>(<span class="at">data =</span> rcdf_data, <span class="at">path =</span> <span class="st">&quot;path/to/output&quot;</span>)</span></code></pre></div>
</div>
<div id="exporting-data-to-sqlite-database-format" class="section level3">
<h3>Exporting data to SQLite database format</h3>
<p>The <code>write_rcdf_sqlite()</code> function allows you to export
the decrypted RCDF data to an SQLite database (with .db extension). Each
data frame is saved as a table within the SQLite database.</p>
<p><br> <strong>Usage</strong>:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="fu">write_rcdf_sqlite</span>(data, path, ..., <span class="at">parent_dir =</span> <span class="cn">NULL</span>)</span></code></pre></div>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>data</code>: The decrypted RCDF object.</li>
<li><code>path</code>: The path where the SQLite database file will be
created.</li>
<li><code>...</code>: Additional arguments for customizing the SQLite
export.</li>
<li><code>parent_dir</code>: An optional parent directory to be included
in the path where the files will be written.</li>
</ul>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="fu">write_rcdf_sqlite</span>(<span class="at">data =</span> rcdf_data, <span class="at">path =</span> <span class="st">&quot;path/to/output&quot;</span>)</span></code></pre></div>
</div>
<div id="exporting-data-to-multiple-formats-simultaneously" class="section level3">
<h3>Exporting data to multiple formats simultaneously</h3>
<p>The <code>write_rcdf_as()</code> function allows you to export
decrypted RCDF data into multiple file formats simultaneously.</p>
<p><br> <strong>Usage</strong>:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="fu">write_rcdf_as</span>(data, path, formats, ...)</span></code></pre></div>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>data</code>: A named list or RCDF object. Each element should
be a table or tibble-like object (typically a <code>dbplyr</code> or
<code>dplyr</code> table).</li>
<li><code>path</code>: The target directory where output files should be
saved.</li>
<li><code>formats</code>: A character vector of file formats to export
to. Supported formats include: <code>&quot;csv&quot;</code>, <code>&quot;tsv&quot;</code>,
<code>&quot;json&quot;</code>, <code>&quot;parquet&quot;</code>, <code>&quot;xlsx&quot;</code>,
<code>&quot;dta&quot;</code>, <code>&quot;sav&quot;</code>, and <code>&quot;sqlite&quot;</code>.</li>
<li><code>...</code>: Additional arguments passed to the respective
writer functions.</li>
</ul>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
